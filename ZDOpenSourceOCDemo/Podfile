# Uncomment the next line to define a global platform for your project
source 'https://github.com/facebook/Sonar.git'
source 'https://github.com/CocoaPods/Specs'

platform :ios, '10.0'
inhibit_all_warnings!

def pods_git
  	# pod 'ZDTableViewBinding', :git => 'https://github.com/faimin/ZDTableViewBinding'
  	pod 'ZDNetWorkHelper', :git => 'https://github.com/faimin/ZDNetWorkHelper'
  	pod 'ZDToolKit', :git => 'https://github.com/faimin/ZDToolKit', :branch => 'develop'
end

def pods_reactive
	pod 'ReactiveObjC'
end

def pods_promise
	pod 'PromiseKit', '~> 1.7'
	pod 'PromisesObjC'
end

def pods_layout
	pod 'Texture'
	pod 'IGListKit'
	pod 'YogaKit'
	pod 'Masonry'
end

def pods_router
	pod 'ZIKRouter'
	pod 'JLRoutes'
end

def pods_network
	pod 'YTKNetwork'
	pod 'YYModel'
	#pod 'ResponseDetective'
	#pod 'Wormholy', :configurations => ['Debug'] #通过hook URLSession实现
end

def pods_animation
	pod 'lottie-ios'
end

def pods_tabBarController
	pod 'RDVTabBarController'
    pod 'RTRootNavigationController'
end

def pods_extension
	pod 'ObjectiveSugar', :inhibit_warnings => true
    pod 'LinqToObjectiveC'
end

def pods_color
	pod 'ChameleonFramework'
end

def pods_toast
	pod 'SVProgressHUD'
    pod 'MBProgressHUD'
    pod 'Toast'
end

def pods_cache
	pod 'YYCache'
end

def pods_thread
	pod 'YYDispatchQueuePool'
end

def pods_injection
	pod 'libextobjc'
    pod 'Objection'
    pod 'Typhoon'
end

def pods_swizzle
	pod 'fishhook'
    pod 'RSSwizzle'
end

def pods_tools
	pod 'DirectoryWatchdog'
end

def pods_debug
	# pod 'KZPlayground', :inhibit_warnings => true
	# pod 'Buglife', :configurations => ['Debug']
    pod 'GDPerformanceView', :configurations => ['Debug']
	pod 'FLEX', :configurations => ['Debug']
    pod 'LayoutInspector', :configurations => ['Debug']
  	# pod 'SonarKit', :configurations => ['Debug']
	# pod 'SonarKit/SonarKitLayoutComponentKitSupport', :configurations => ['Debug']
	# pod 'SonarKit/SKIOSNetworkPlugin', :configurations => ['Debug']
	# pod 'SonarKit/SonarKitLayoutPlugin', :configurations => ['Debug']
	# pod 'SonarKit/SonarKitNetworkPlugin', :configurations => ['Debug']
end

# ----------------------------

def pods_oc
	pods_reactive
	pods_promise
	pods_layout
	pods_tabBarController
	pods_router
	pods_network
	pods_animation
	pods_extension
	pods_color
	pods_cache
	pods_toast
	pods_thread
	pods_injection
	pods_swizzle
	pods_tools
	pods_debug
end

target 'ZDOpenSourceOCDemo' do
  # Uncomment the next line if you're using Swift or would like to use dynamic frameworks
  # use_frameworks!

  # Pods for ZDOpenSourceOCDemo
  pods_oc
  pods_git

  target 'ZDOpenSourceOCDemoTests' do
    inherit! :search_paths
    # Pods for testing
  end

  target 'ZDOpenSourceOCDemoUITests' do
    inherit! :search_paths
    # Pods for testing
  end

end


post_install do |installer|
    installer.pods_project.targets.each do |target|
        target.build_configurations.each do |config|
            #config.build_settings['APPLICATION_EXTENSION_API_ONLY'] = 'NO' #可以让pod中的类调用[UIApplication shareApplication]
            #关闭block内直接引用全局变量的警告
            config.build_settings['CLANG_WARN_OBJC_IMPLICIT_RETAIN_SELF'] = 'NO'
            if target.name == 'PromiseKit' || target.name == 'YogaKit' || target.name == 'Wormholy'
                config.build_settings['SWIFT_VERSION'] = '4.2'
            elsif target.name == 'ReactiveObjC'
                #关闭`This block declaration is not a prototype,Insert ‘void'`警告
                #config.build_settings['CLANG_WARN_STRICT_PROTOTYPES'] = 'NO'
            end
        end
    end
    
    # Pod::PodTarget.send(:define_method, :static_framework?) { return true }
end

